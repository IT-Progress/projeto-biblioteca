<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
	<meta charset="UTF-8"></meta>
	<title>exemplo</title>
	<h:outputStylesheet name="bootstrap.min.css" library="css"
		type="text/css" />
</h:head>
<ui:composition template="template.xhtml">
	<h:body>
		<div class="row" style="margin-right:0!important">
			<div class="col-md-12 form-group" style="margin-bottom:0!important">
				<div class="pt-2">
					<div class="container">
						<div class="row">
						<div class="col-md-6">
							<h1 style="font-family: 'Electrolize', sans-serif"
								class="py-2 col-md-12">Editar livro</h1>
							<div class="col-md-12">
								<h:form class="">
									<div class="form-group">
										<label>Nome do Livro</label>
										<h:inputText id="campoNomeLivro" name="nomeLivro"
											class="form-control" value="#{livroBean.livro.nome}"
											required="true" label="Nome do Livro" />
										<h:message for="campoNomeLivro" style="color:red" />
									</div>
									<div class="form-group">
										<label>Nome do autor</label>
										<h:inputText id="campoNomeAutor" name="nomeAutor"
											class="form-control" value="#{livroBean.livro.autor}"
											required="true" label="Nome do Autor" />
										<h:message for="campoNomeAutor" style="color:red" />
									</div>

									<div class="form-group">
										<label>Categoria </label><br></br>
										<h:selectOneMenu value="#{livroBean.livro.categoria}"
											id="campo-categoria" requiredMessage="Categoria obrigatoria"
											label="Categoria" required="true" class="form-control">
											<f:selectItem itemValue=""
												itemLabel="Selecione uma Categoria" />
											<f:selectItems value="#{livroBean.categorias}" var="c"
												itemLabel="#{c.categoria}" itemValue="#{c}" />
										</h:selectOneMenu>
									</div>

									<div class="form-group">
										<label>Tag</label>
										<h:inputText id="campoTag" name="nomeTag" class="form-control"
											value="#{livroBean.livro.tag}" required="false" label="TAG"
											data-role="tagsinput" />
										<h:message for="campoTag" style="color:red" />
									</div>

									<div class="form-group">
										<label>Situação </label><br></br>
										<h:selectOneMenu value="#{livroBean.livro.situacao}"
											id="campo-situacao" requiredMessage="Categoria obrigatoria"
											label="Situação" required="true" class="form-control">
											<f:selectItem itemValue="" itemLabel="Selecione uma Situação" />
											<f:selectItems value="#{livroBean.situacoesLivro}" var="s"
												itemLabel="#{s.situacaoLivros}" itemValue="#{s}" />
										</h:selectOneMenu>
									</div>
									<div >
										<h:commandButton class="btn btn-danger mr-1" value="Salvar"
											action="#{livroBean.salvar}" />
										<h:commandButton value="Voltar" action="livro"
											class="btn btn-dark" immediate="true" />
									</div>
								</h:form>
							</div>
						</div>
						<div class="col-md-6 form-group" style="margin-bottom:0!important">
				<h:form enctype="multipart/form-data" prependId="false">
					<div class="row">
						<h1 style="font-family: 'Electrolize', sans-serif"
							class="py-2">Cadastro de Arquivos</h1>
					</div>
					<div class="form-group">
						<h:graphicImage library="image" name="#{livroBean.livro.nomeArquivo}" rendered="#{not empty livroBean.livro.nomeArquivo}"
 							class="py-4 rounded "
 							style="height:330px;max-width:100%;" />
 							
 						<h:graphicImage library="image" name="BookNotPictured.jpg" rendered="#{empty livroBean.livro.nomeArquivo}"
  							class="py-4 rounded "
  							style="height:330px;max-width:100%;" />
						<br/>
						<h:outputLabel value="Arquivo:" for="campo-arquivo" />
						<h:inputFile id="campo-arquivo" value="#{livroBean.arquivoUpado}"
							required="true" label="Arquivo"
							requiredMessage="Arquivo não selecionado!!" 
							class="form-control-file"/>
						<h:message for="campo-arquivo" style="color:red" />
					</div>

					<h:commandButton value="Upload" action="#{livroBean.importa}"
						class="btn btn-danger mt-3" />
				</h:form>
			</div>
		</div>
						</div>
					</div>
				</div>
			</div>
			
		<h:outputScript name="bootstrap.min.js" library="js" async="true"
			type="application/javascript" />
	</h:body>
</ui:composition>
</html>